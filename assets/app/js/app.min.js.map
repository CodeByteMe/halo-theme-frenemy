{"version":3,"sources":["app.js"],"names":["loadFiles","js","css","loadScript","fileName","callback","into","script","document","createElement","type","src","onload","push","getElementsByTagName","appendChild","body","loadCSS","rel","onreadystatechange","href","$","pivot","addTopNav","addClass","removeClass","removeTopNav","isScrollTop","scrollTop","window","scroll","click","event","this","attr","returnTop","animate","init","selector","sensitivity","touch","i","clazz","undefined","replace","Prism","plugins","autoloader","languages_path","highlightAll","mediumZoom","querySelectorAll","on","jQuery","console","log"],"mappings":"AAAA,aACA,IAAIA,UAAY,CACdC,GAAI,GACJC,IAAK,IAwHP,SAASC,WAAWC,EAAUC,EAAUC,GACtCA,EAAOA,GAAQ,OACfD,EAAWA,GAAY,aAEvB,IAAIE,EAAS,MACbA,EAASC,SAASC,cAAc,WACzBC,KAAO,kBACdH,EAAOI,IAAMP,EACbG,EAAOK,OAAS,WACdZ,UAAUC,GAAGY,KAAKT,GAClBC,KAEW,SAATC,EACFE,SAASM,qBAAqB,QAAQ,GAAGC,YAAYR,GAErDC,SAASQ,KAAKD,YAAYR,GAY9B,SAASU,QAAQb,EAAUC,EAAUC,GACnCA,EAAOA,GAAQ,OACfD,EAAWA,GAAY,aAGvB,IAAIH,EAAMM,SAASC,cAAc,QACjCP,EAAIQ,KAAO,WACXR,EAAIgB,IAAM,aACVhB,EAAIU,OAASV,EAAIiB,mBAAqB,WACpCnB,UAAUE,IAAIW,KAAKT,GACnBC,KAEFH,EAAIkB,KAAOhB,EACE,SAATE,EACFE,SAASM,qBAAqB,QAAQ,GAAGC,YAAYb,GAErDM,SAASQ,KAAKD,YAAYb,IAhK9B,SAAWmB,EAAGC,GAyFZ,SAASC,IACPF,EAAE,cAAcG,SAAS,WAAWA,SAAS,eAAeC,YAAY,gBAM1E,SAASC,IACPL,EAAE,cAAcI,YAAY,WAAWA,YAAY,eAAeD,SAAS,gBAO7E,SAASG,IACP,OAAON,EAAEb,UAAUoB,aAAe,EAxGpCP,EAAE,WAEAM,IAAgBJ,IAAcG,IAE9BL,EAAEQ,QAAQC,OAAO,WACfH,IAAgBJ,IAAcG,MAGhCL,EAAE,mBAAmBU,MAAM,SAAUC,GACG,UAAlCX,EAAEY,MAAMC,KAAK,kBACXP,KACFN,EAAE,cAAcI,YAAY,CAAC,cAAe,YAAYD,SAAS,gBAEnEH,EAAE,QAAQG,SAAS,qBAEfG,KACFN,EAAE,cAAcG,SAAS,CAAC,cAAe,YAAYC,YAAY,gBAEnEJ,EAAE,QAAQI,YAAY,sBAI1B,IAAIU,EAAYd,EAAE,kBAClBA,EAAEQ,QAAQC,OAAO,WACY,IAAvBT,EAAEY,MAAML,YACVO,EAAUX,SAAS,iBAAiBC,YAAY,iBAEhDU,EAAUV,YAAY,iBAAiBD,SAAS,mBAGpDW,EAAUJ,MAAM,WACdV,EAAE,aAAae,QACb,CACER,UAAW,GAEb,SAONN,EAAMe,KAAK,CACTC,SAAU,wBACVC,YAAa,GACbC,OAAO,IAITvB,QAAQ,uEACRd,WAAW,8DAA+D,WACxEA,WAAW,4EAA6E,WAEpFkB,EAAE,0BAA0Ba,KAAK,QAAS,SAAUO,EAAGC,GACrD,QAAcC,IAAVD,EACF,OAAOA,EAAME,QAAQ,iBAAkB,qBAItB,cAAjBf,OAAOgB,QACTA,MAAMC,QAAQC,WAAWC,eAAiB,6CAC1CH,MAAMI,oBAMdhC,QAAQ,kFACRd,WAAW,iFAEXkB,EAAE,qBAAqBG,SAAS,gBAEhCP,QAAQ,wEACRd,WAAW,uEACXA,WAAW,mFACXA,WAAW,0DACXA,WAAW,2FAGXA,WAAW,6DAA8D,WAC5D+C,WAAW1C,SAAS2C,iBAAiB,sBAC3CC,GAAG,OAAQ,SAAUpB,QAlF9B,CA2GGH,OAAOwB,OAAQxB,OAAOP,OAyDzBO,OAAOjB,OAAS,WACd0C,QAAQC,IAAI,YAAavD","file":"app.min.js","sourcesContent":["'use strict';\nvar loadFiles = {\n  js: [],\n  css: []\n};\n\n(function ($, pivot) {\n  $(function () {\n    //初始化顶栏透明\n    isScrollTop() ? addTopNav() : removeTopNav();\n    //滚动顶栏透明\n    $(window).scroll(function () {\n      isScrollTop() ? addTopNav() : removeTopNav();\n    });\n    // 移动端点击菜单按钮添加样式\n    $('.navbar-toggler').click(function (event) {\n      if ($(this).attr('aria-expanded') === 'false') {\n        if (isScrollTop()) {\n          $('nav.navbar').removeClass(['navbar-dark', 'top-nav']).addClass('navbar-light');\n        }\n        $('html').addClass('overflow-hidden');\n      } else {\n        if (isScrollTop()) {\n          $('nav.navbar').addClass(['navbar-dark', 'top-nav']).removeClass('navbar-light');\n        }\n        $('html').removeClass('overflow-hidden');\n      }\n    });\n    // 回到顶部\n    var returnTop = $('#return-to-top');\n    $(window).scroll(function () {\n      if ($(this).scrollTop() >= 50) {\n        returnTop.addClass('bounceInRight').removeClass('bounceOutDown')\n      } else {\n        returnTop.removeClass('bounceInRight').addClass('bounceOutDown');\n      }\n    });\n    returnTop.click(function () {\n      $('body,html').animate(\n        {\n          scrollTop: 0\n        },\n        500\n      );\n    });\n\n  });\n\n  // 文章列表动效\n  pivot.init({\n    selector: '.post-card-image-link',\n    sensitivity: 80,\n    touch: false\n  });\n\n  //Prism高亮支持\n  loadCSS('//cdn.jsdelivr.net/npm/prismjs@1.15.0/themes/prism-tomorrow.min.css');\n  loadScript('//cdn.jsdelivr.net/npm/prismjs/components/prism-core.min.js', function () {\n    loadScript('//cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js', function () {\n        //将html代码块支持高亮\n        $('.post-content pre code').attr('class', function (i, clazz) {\n          if (clazz !== undefined) {\n            return clazz.replace(/language-html/g, 'language-markup');\n          }\n        });\n        //设置高亮语言样式文件地址\n        if (window.Prism !== 'undefined') {\n          Prism.plugins.autoloader.languages_path = '//cdn.jsdelivr.net/npm/prismjs/components/';\n          Prism.highlightAll();\n        }\n      }\n    );\n  });\n  //行号\n  loadCSS('//cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css');\n  loadScript('//cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js');\n  //支持行号显示\n  $('.post-content pre').addClass('line-numbers');\n  //显示语言或者粘贴\n  loadCSS('//cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css');\n  loadScript('//cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js');\n  loadScript('//cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js');\n  loadScript('//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js');\n  loadScript('//cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js');\n\n  //图箱支持\n  loadScript('//cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js', function () {\n    var zoom = mediumZoom(document.querySelectorAll('.post-content img'));\n    zoom.on('open', function (event) {\n    })\n  });\n\n  /**\n   * 添加导航样式\n   */\n  function addTopNav() {\n    $('nav.navbar').addClass('top-nav').addClass('navbar-dark').removeClass('navbar-light');\n  }\n\n  /**\n   * 移除导航样式\n   */\n  function removeTopNav() {\n    $('nav.navbar').removeClass('top-nav').removeClass('navbar-dark').addClass('navbar-light');\n  }\n\n  /**\n   * 是否在页面最顶部\n   * @returns {boolean} true = 是在页面顶部\n   */\n  function isScrollTop() {\n    return $(document).scrollTop() <= 0\n  }\n})(window.jQuery, window.pivot);\n\n/**\n * 动态加载JS文件的方法\n * Load javascript file method\n *\n * @param {String}   fileName              JS文件名\n * @param {Function} [callback=function()] 加载成功后执行的回调函数\n * @param {String}   [into='head']         嵌入页面的位置\n */\nfunction loadScript(fileName, callback, into) {\n  into = into || 'body';\n  callback = callback || function () {\n  };\n  var script = null;\n  script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.src = fileName;\n  script.onload = function () {\n    loadFiles.js.push(fileName);\n    callback();\n  };\n  if (into === 'head') {\n    document.getElementsByTagName('head')[0].appendChild(script);\n  } else {\n    document.body.appendChild(script);\n  }\n}\n\n/**\n * 动态加载CSS文件的方法\n * Load css file method\n *\n * @param {String}   fileName              CSS文件名\n * @param {Function} [callback=function()] 加载成功后执行的回调函数\n * @param {String}   [into='head']         嵌入页面的位置\n */\nfunction loadCSS(fileName, callback, into) {\n  into = into || 'head';\n  callback = callback || function () {\n  };\n\n  var css = document.createElement('link');\n  css.type = 'text/css';\n  css.rel = 'stylesheet';\n  css.onload = css.onreadystatechange = function () {\n    loadFiles.css.push(fileName);\n    callback();\n  };\n  css.href = fileName;\n  if (into === 'head') {\n    document.getElementsByTagName('head')[0].appendChild(css);\n  } else {\n    document.body.appendChild(css);\n  }\n}\n\nwindow.onload = function () {\n  console.log('已经动态加载资源：', loadFiles);\n};\n"]}